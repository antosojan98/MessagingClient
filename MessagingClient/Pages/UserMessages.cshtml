@page
@using MessagingLibrary
@model UserMessagesModel
@{
    ViewData["Title"] = "User Messages";
}

<!-- Stylesheet for the page -->
<link rel="stylesheet" href="~/css/userMessages.css" asp-append-version="true">

<!-- SignalR client library -->
<script src="~/lib/microsoft/signalr/dist/browser/signalr.js" type="text/javascript"></script>

@section FullContainer {
    <div class="popup">
        <h2>User to user messaging</h2>

        <label for="pwd">Username</label>
        <input type="text" class="pwd" name="pwd" id="loginName">

        <button id="submitButton" onclick="loginUser('@MessagingAPI.ApiUrl')">Submit</button>
    </div>

    <div class="chatbox">
        <div class="friendlist">
            <div id="friendAdd">
                <h5>Friend list</h5>
                <button class="newmessage" onclick="addfriend()"><img src="~/Images/icon-add.png"></button>
            </div>

            <ul id="fl">
            </ul>
        </div>

        <div class="chat">
            <div class="name" id="name">
            </div>

            <div class="message" id="message">
            </div>

            <div class="sendinput">
                <input type="text" id="text">
                <button class="send" id="send" onclick="send()">
                    <img src=~/Images/send.png>
                </button>
            </div>
        </div>
    </div>

    <!-- Script for user messages -->
    <script src="~/js/userMessages.js" asp-append-version="true"></script>
}

    @section Popup {
        <h6 id="loggedName"></h6>
    }